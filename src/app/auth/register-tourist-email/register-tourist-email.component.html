<div class="main-wrapper authentication-wrapper">
    <div class="container-fuild">

        <!-- Register -->
        <div class="w-100 overflow-hidden position-relative flex-wrap d-block vh-100">
            <div class="row justify-content-center align-items-center vh-100 overflow-auto flex-wrap ">
                <div class="col-xxl-4 col-lg-6 col-md-6 col-11 mx-auto">
                    <div class="p-4 text-center">
                        <img src="assets/img/logo-white.svg" alt="logo" class="img-fluid">
                    </div>
                    <div class="card authentication-card">
                        <div class="card-header">
                            <div class="text-center">
                                <h5 class="mb-1">Crear Cuenta</h5>
                                <p>Crea el tour de tus sueños</p>
                            </div>
                        </div>
                        <div class="card-body">
                            <form [formGroup]="registerTouristEmailForm" (ngSubmit)="submitForm()">
                                <div class="mb-3">
                                    <label class="form-label" for="first_name">Nombre</label>
                                    <div class="input-icon">
                                        <span class="input-icon-addon">
                                            <i class="fa-regular fa-user"></i>
                                        </span>
                                        <input type="text" id="first_name" formControlName="firstName"
                                            class="form-control form-control-lg" placeholder="Ingresa tu nombre"
                                            minlength="2" maxlength="50">
                                    </div>

                                    <div *ngIf="registerTouristEmailForm.controls['firstName'].invalid && (registerTouristEmailForm.controls['firstName'].dirty || registerTouristEmailForm.controls['firstName'].touched)"
                                        class="text-danger">
                                        <div
                                            *ngIf="registerTouristEmailForm.controls['firstName'].errors?.['required']">
                                            Nombre es requerido
                                        </div>
                                        <div
                                            *ngIf="registerTouristEmailForm.controls['firstName'].errors?.['minlength']">
                                            Nombre debe tener al menos 2 caracteres
                                        </div>
                                        <div
                                            *ngIf="registerTouristEmailForm.controls['firstName'].errors?.['maxlength']">
                                            Nombre no puede tener más de 50 caracteres
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label" for="last_name">Apellido</label>
                                    <div class="input-icon">
                                        <span class="input-icon-addon">
                                            <i class="fa-regular fa-user"></i>
                                        </span>
                                        <input type="text" id="last_name" formControlName="lastName"
                                            class="form-control form-control-lg" placeholder="Ingresa tus nombres"
                                            minlength="2" maxlength="50">
                                    </div>

                                    <div *ngIf="registerTouristEmailForm.controls['lastName'].invalid && (registerTouristEmailForm.controls['lastName'].dirty || registerTouristEmailForm.controls['lastName'].touched)"
                                        class="text-danger">
                                        <div *ngIf="registerTouristEmailForm.controls['lastName'].errors?.['required']">
                                            Apellido es requerido
                                        </div>
                                        <div
                                            *ngIf="registerTouristEmailForm.controls['lastName'].errors?.['minlength']">
                                            Apellido debe tener al menos 2 caracteres
                                        </div>
                                        <div
                                            *ngIf="registerTouristEmailForm.controls['lastName'].errors?.['maxlength']">
                                            Apellido no puede tener más de 50 caracteres
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label" for="email">Correo</label>
                                    <div class="input-icon">
                                        <span class="input-icon-addon">
                                            <i class="fa-regular fa-envelope"></i>
                                        </span>
                                        <input type="email" id="email" formControlName="email"
                                            class="form-control form-control-lg" placeholder="Ingresa tu correo">
                                    </div>

                                    <div *ngIf="registerTouristEmailForm.controls['email'].invalid && (registerTouristEmailForm.controls['email'].dirty || registerTouristEmailForm.controls['email'].touched)"
                                        class="text-danger">

                                        <div *ngIf="registerTouristEmailForm.controls['email'].errors?.['required']">
                                            Correo es requerido
                                        </div>
                                        <div *ngIf="registerTouristEmailForm.controls['email'].errors?.['email']">
                                            Correo no es válido
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label" for="password">Contraseña</label>
                                    <div class="pass-group input-icon">
                                        <span class="input-icon-addon">
                                            <i class="fa-solid fa-unlock"></i>
                                        </span>
                                        <input [type]="password[0] ? 'text' : 'password'" id="password"
                                            formControlName="password" class="pass-input form-control form-control-lg"
                                            placeholder="Ingresa tu contraseña" />
                                        <span class="isax toggle-password"
                                            [ngClass]="password[0] ? 'isax-eye' : 'isax-eye-slash'"
                                            (click)="togglePassword(0)" (keydown.enter)="togglePassword(0)"
                                            tabindex="0"></span>
                                    </div>

                                    <div *ngIf="registerTouristEmailForm.controls['password'].invalid && (registerTouristEmailForm.controls['password'].dirty || registerTouristEmailForm.controls['password'].touched)"
                                        class="text-danger">
                                        <div *ngIf="registerTouristEmailForm.controls['password'].errors?.['required']">
                                            Contraseña es requerida
                                        </div>
                                        <div
                                            *ngIf="registerTouristEmailForm.controls['password'].errors?.['minlength']">
                                            Contraseña debe tener al menos 8 caracteres
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="password_confirm">Confirmar Contraseña</label>
                                    <div class="pass-group input-icon">
                                        <span class="input-icon-addon">
                                            <i class="fa-solid fa-unlock"></i>
                                        </span>
                                        <input [type]="password[1] ? 'text' : 'password'" id="password_confirm"
                                            formControlName="confirmPassword"
                                            class="pass-input form-control form-control-lg"
                                            placeholder="Ingresa tu contraseña" />
                                        <span class="isax toggle-password"
                                            [ngClass]="password[1] ? 'isax-eye' : 'isax-eye-slash'"
                                            (click)="togglePassword(1)" (keydown.enter)="togglePassword(1)"
                                            tabindex="0"></span>
                                    </div>

                                    <div *ngIf="registerTouristEmailForm.controls['confirmPassword'].invalid && (registerTouristEmailForm.controls['confirmPassword'].dirty || registerTouristEmailForm.controls['confirmPassword'].touched) || registerTouristEmailForm.errors?.['passwordMismatch']"
                                        class="text-danger">
                                        <div
                                            *ngIf="registerTouristEmailForm.controls['confirmPassword'].errors?.['required']">
                                            Contraseña es requerida
                                        </div>
                                        <div
                                            *ngIf="registerTouristEmailForm.controls['confirmPassword'].errors?.['minlength']">
                                            Contraseña debe tener al menos 8 caracteres
                                        </div>

                                        <div *ngIf="registerTouristEmailForm.errors?.['passwordMismatch']">
                                            Contraseñas no coinciden
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-3 mb-3">
                                    <div class="d-flex">
                                        <div class="form-check d-flex align-items-center mb-2">
                                            <input class="form-check-input mt-0" type="checkbox" formControlName="terms"
                                                id="agree">
                                            <label class="form-check-label ms-2 text-gray-9 fs-14" for="agree">
                                                Acepto los <a [routerLink]="routes.termsConditions"
                                                    class="link-primary fw-medium">Términos De Servicio.</a>
                                            </label>

                                        </div>
                                    </div>
                                    <div *ngIf="registerTouristEmailForm.controls['terms'].invalid && (registerTouristEmailForm.controls['terms'].dirty || registerTouristEmailForm.controls['terms'].touched)"
                                        class="text-danger">
                                        <div *ngIf="registerTouristEmailForm.controls['terms'].errors?.['required']">
                                            Los términos de servicio deben ser aceptados
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <button type="submit"
                                        class="btn btn-xl btn-primary d-flex align-items-center justify-content-center w-100"
                                        [disabled]="loading || (registerTouristEmailForm.touched && registerTouristEmailForm.invalid)">
                                        <span>Registrarme</span>

                                        <div *ngIf="loading" class="spinner-border spinner-border-sm">
                                        </div>
                                    </button>
                                </div>

                                <div *ngIf="errorMessage" class="mb-3">
                                    <p class="text-danger text-center">
                                        {{ errorMessage }}
                                    </p>
                                </div>

                                <div class="login-or mb-3">
                                    <span class="span-or">O</span>
                                </div>
                                <div class="d-flex align-items-center mb-3">
                                    <a href="javascript:void(0);"
                                        class="btn btn-light flex-fill d-flex align-items-center justify-content-center me-2">
                                        <img src="assets/img/icons/google-icon.svg" class="me-2" alt="Img">Google
                                    </a>
                                    <a href="javascript:void(0);"
                                        class="btn btn-light flex-fill d-flex align-items-center justify-content-center">
                                        <img src="assets/img/icons/fb-icon.svg" class="me-2" alt="Img">Facebook
                                    </a>
                                </div>
                                <div class="d-flex justify-content-center">
                                    <p class="fs-14">¿Ya tienes cuenta? <a [routerLink]="'/login-tourist'"
                                            class="link-primary fw-medium">Iniciar Sesión</a></p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <!-- /Register -->

    </div>
    <div class="coprright-footer">
        <p class="fs-14">Copyright &copy; 2025. All Rights Reserved, <a href="javascript:void(0);"
                class="text-primary fw-medium">Tourya</a></p>
    </div>
</div>